# Phase 2.5 フロントエンド手動テストシナリオ

Phase 2.5 の実装後、フロントエンド（/app/Morizo-web）から以下の操作を行い、動作確認してください。

---

## 前提条件

- フロントエンドが起動している（/app/Morizo-web）
- バックエンドが起動している（`python main.py`）
- ログイン済みである

---

## パターン1: 在庫操作

### 1-1. 在庫追加

**操作手順**:
1. チャットで以下を入力: `牛乳を2本追加して`
2. 送信ボタンをクリック

**期待される結果**:
- 在庫に牛乳が2本追加される
- 「牛乳を2本追加しました」などのメッセージが表示される

---

### 1-2. 在庫削除（曖昧性解消）

**操作手順**:
1. 在庫に牛乳を複数登録しておく（例：牛乳を3本追加）
2. チャットで以下を入力: `牛乳を削除して`
3. 送信ボタンをクリック
4. **確認**: 確認質問が表示される（複数の牛乳があるため）
5. 選択肢から一つ選ぶ
6. 送信

**期待される結果**:
- 確認質問が正しく表示される
- 選択した牛乳が削除される
- 「削除しました」などのメッセージが表示される

---

## パターン2: 献立生成

### 2-1. 献立生成（一括提案）

**操作手順**:
1. 在庫に食材を登録しておく（例：レンコン、肉、野菜など）
2. チャットで以下を入力: `献立を教えて`
3. 送信ボタンをクリック

**期待される結果**:
- main/sub/soup の3つの献立が表示される
- 各レシピに詳細情報が表示される
- 選択肢が提示される

---

## パターン3: 主菜提案（初回）

### 3-1. 主菜提案（食材指定）

**操作手順**:
1. 在庫にレンコンを登録しておく
2. チャットで以下を入力: `レンコンの主菜を5件提案して`
3. 送信ボタンをクリック

**期待される結果**:
- レンコンを使った主菜が5件提案される
- レシピ詳細が表示される
- 選択肢が提示される

---

### 3-2. 主菜提案（食材未指定 → 曖昧性解消）

**操作手順**:
1. チャットで以下を入力: `主菜を5件提案して`
2. 送信ボタンをクリック
3. **確認**: 確認質問が表示される
   - 「食材を指定しますか？」などの質問
   - 選択肢が表示される
4. 「在庫から提案する」を選択
5. 送信

**期待される結果**:
- 確認質問が表示される
- 在庫から主菜が5件提案される
- レシピ詳細が表示される

---

### 3-3. 主菜提案（曖昧性解消 - 食材指定）

**操作手順**:
1. チャットで以下を入力: `主菜を5件提案して`
2. 送信ボタンをクリック
3. 確認質問が表示されたら、「レンコンを指定する」を選択
4. 送信

**期待される結果**:
- レンコンを使った主菜が提案される
- レシピ詳細が表示される

---

### 3-4. 主菜追加提案（もう5件）

**操作手順**:
1. 3-1を実行して主菜を提案済みの状態にする
2. チャットで以下を入力: `もう5件主菜を提案して`
3. 送信ボタンをクリック

**期待される結果**:
- 別の5件の主菜が提案される
- 前回提案されたレシピとは異なるものが提案される
- レシピ詳細が表示される

---

## パターン6: 副菜提案（Phase 3機能、現時点では未実装の可能性）

### 6-1. 副菜提案（主菜選択後）

**操作手順**:
1. 主菜を選択して確定する
2. 自動的に副菜が提案される（または「副菜を提案しますか？」などの質問が表示される）
3. 副菜の提案を確認

**期待される結果**:
- 副菜が5件提案される
- 主菜で使った食材が副菜に含まれない
- レシピ詳細が表示される

---

### 6-2. 副菜提案（主菜未選択 → 曖昧性解消）

**操作手順**:
1. チャットで以下を入力: `副菜を5件提案して`
2. 送信ボタンをクリック
3. **確認**: 確認質問が表示される
   - 「まず主菜を選びますか？」などの質問
4. 選択肢から選ぶ

**期待される結果**:
- 確認質問が表示される
- 選択に応じて副菜が提案される

---

## パターン7: 汁物提案（Phase 3機能、現時点では未実装の可能性）

### 7-1. 汁物提案（和食）

**操作手順**:
1. 主菜（和食）、副菜を選択して確定する
2. 自動的に味噌汁が提案される（または「汁物を提案しますか？」などの質問が表示される）
3. 汁物の提案を確認

**期待される結果**:
- 和風の汁物（味噌汁など）が提案される
- 主菜・副菜で使った食材が汁物に含まれない
- レシピ詳細が表示される

---

### 7-2. 汁物提案（洋食）

**操作手順**:
1. 主菜（洋食）、副菜を選択して確定する
2. 自動的にスープが提案される
3. 汁物の提案を確認

**期待される結果**:
- 洋風のスープ（コンソメスープなど）が提案される
- 主菜・副菜で使った食材が汁物に含まれない
- レシピ詳細が表示される

---

## パターン8-9: 追加提案（Phase 3機能、現時点では未実装の可能性）

### 8-1. 副菜追加提案

**操作手順**:
1. 副菜を提案済みの状態にする
2. チャットで以下を入力: `もう5件副菜を提案して`
3. 送信ボタンをクリック

**期待される結果**:
- 別の5件の副菜が提案される
- 前回提案されたレシピとは異なるものが提案される

---

### 9-1. 汁物追加提案

**操作手順**:
1. 汁物を提案済みの状態にする
2. チャットで以下を入力: `もう5件味噌汁を提案して`
3. 送信ボタンをクリック

**期待される結果**:
- 別の5件の汁物が提案される
- 前回提案されたレシピとは異なるものが提案される

---

## 注意事項

- **Phase 3機能（副菜・汁物提案）は現時点では未実装の可能性があります**
- 未実装の場合は、該当するテストはスキップしてください
- 各テストは順番に実行してください（前提条件が前のテストに依存するため）
- エラーが発生した場合は、ログを確認してください

---

## 確認ポイント

各テストで以下を確認してください：

1. **レスポンス時間**: 過度に遅くないか
2. **エラーメッセージ**: エラーが発生していないか
3. **UI表示**: レシピが正しく表示されるか
4. **選択機能**: 選択肢が正しく動作するか
5. **曖昧性解消**: 確認質問が適切に表示されるか
6. **追加提案**: 前回とは異なるレシピが提案されるか

---

## まとめ

Phase 2.5Gの手動テストは、以下の目的で実施します：

- **在庫操作の基本機能確認**
- **献立生成の動作確認**
- **主菜提案の全パターン確認**
- **Phase 3機能の確認**（実装済みの場合）

特に重要なのは：
- 主菜提案の曖昧性解消機能
- 主菜追加提案機能（もう5件）
- UIの表示が正しいか
- エラーが発生していないか

テスト完了後、問題がなければPhase 2.5は完了です。

